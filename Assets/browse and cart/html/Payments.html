<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Payments</title>
    <link rel="stylesheet" href="/Assets/header section.css">
    <link rel="stylesheet" href="/Assets/browse and cart/html/payments.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #23272A;
            color: white;
            margin: 0;
            padding: 0;
        }
        
        table {
            width: 50%;
            padding: 10px;
            text-align: left;
            border: 1px solid #ccc;
        }
    </style>
</head>

<body>
    <header>
        <div class="inner">
            <div class="logo"><img src="./logo P.png"></div>
            <div class="burger"></div>
            <nav>
                <a href="#top">
                    <a href="/Assets/final index.html">Home</a>
                    <a href="/Assets/browse and cart/html/BROWSE PRODUCTS.html">Store</a>
                    <a href="/Assets/community/index.html">Community</a>
                    <a href="/Assets/about/about.html">About</a>
                    <a href="/Assets/support/support.html">Support</a>
                    <a href="/Assets/browse and cart/html/cart.html">Cart</a>
            </nav>
            &nbsp;&nbsp;&nbsp;
            <a href="login.html" id="storedusername" style="color:gray; text-decoration: none;">LOGIN</a>
        </div>
        <div class="corner-menu">
            <div class="dots"></div>
            <div class="menu">
                <a href="/Assets/Account Management/account management.html">Account</a>
                <a href="/Assets/Account Management/acc 2.html">View Account</a>
                <a href="/Assets/Account Management/acc 3.html">Edit Account</a>
            </div>
        </div>

    </header>
    <br><br>
    <br><br>
    <h1 style="align-content: center; color: white;" align="center">Total Bill</h1>
    <form action="">
        <table border="1" style="color: white;" align="center">
            <tr>
                <td>Username</td>
                <td id="user"></td>
            </tr>
            <tr>
                <td>Email Address</td>
                <td id="storedemail"></td>
            </tr>
            <tr>
                <td>Games Purchased</td>
                <td>
                    <div id="cartItemsContainer"></div>
                </td>
            </tr>
            <tr>
                <td>Total </td>
                <td id="total"></td>
            </tr>
            <tr>
                <td rowspan="2">Payment Methods</td>
                <td><input type="radio" name="payment" value="card" id="cardRadio">Card
                    <br><br>Enter Card Number : &nbsp;&nbsp;<input type="text" id="cardNumber" placeholder="XXXX-XXXX-XXXX-XXXX" maxlength="16"></td>
                <br>
            </tr>
            <tr>
                <br>
                <td><input type="radio" name="payment" value="UPI" id="upiRadio">UPI
                    <br><br>Scan QR Code <br> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="./UPI.webp" id="upidetails" style="width: 100px;"></td>
            </tr>
        </table>
    </form>
    <div id="Carddetails" style="display: none;">
        <input type="text" id="cardNumber" placeholder="Enter Card Number" maxlength="16">
    </div>
    <div id="upidetails" style="display: none;">
        Scan QR Code <img src="/Assets/browse and cart/html/UPI.webp" id="upidetails">
    </div>
    <script>
        const storedusername = localStorage.getItem('username');
        console.log(storedusername);
        document.getElementById('storedusername').innerHTML = storedusername;
        const storedemail = "epicgames@gmail.com";
        console.log(storedemail);
        document.getElementById('storedemail').innerHTML = storedemail;
        document.getElementById('user').innerHTML = storedusername;
    </script>
    <script>
        const cartItems = JSON.parse(localStorage.getItem('cartItems'));
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        let totalPrice = 0;
        if (cartItems && cartItems.length > 0) {
            const cartItemsHTML = cartItems.map(item => {
                totalPrice += item.price;
                return `<div class="cart-item">${item.name} - &nbsp;&nbsp; Price: $${item.price}</div>`;
            }).join('');
            const totalHTML = `<p> $${totalPrice}</p>`;
            const total = document.getElementById('total');
            total.innerHTML = totalHTML;
            const combinedHTML = cartItemsHTML + totalHTML;
            console.log(combinedHTML);
            cartItemsContainer.innerHTML = cartItemsHTML;
        } else {
            cartItemsContainer.innerHTML = '<p>No items in the cart</p>';
        }
    </script>
    <iframe src="/Assets/footer/footer/footer.html" width="100%" height="500px" frameborder="0"></iframe>
</body>

</html>